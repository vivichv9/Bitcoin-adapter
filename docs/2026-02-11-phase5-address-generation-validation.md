# Документация изменений от 2026-02-11 (этап 5: генерация и проверка адресов)

## Что реализовано
1. Добавлен модуль адресов:
- `src/lib/address.js`;
- формирование descriptors из публичного ключа для типов `p2pkh`, `p2wpkh`, `p2sh-p2wpkh`, `p2pk`, `p2tr`;
- подготовка параметров для `validateaddress`;
- форматирование результатов генерации адресов.

2. Расширен UI:
- `index.html` добавлены:
  - форма генерации адресов по pubkey (через `deriveaddresses`);
  - форма проверки адреса (через `validateaddress`);
  - отдельные блоки ошибок и вывода результата.

3. Обновлена клиентская логика:
- `src/main.js` добавлены обработчики:
  - генерации адресов по pubkey через RPC;
  - проверки адреса через RPC;
- добавена централизованная проверка RPC-конфига перед RPC-операциями.

4. Расширены схемы и нормализация:
- `src/lib/form-schemas.js` добавлены `address_generation` и `address_validation`;
- `src/lib/normalizers.js` добавлены normalizers для новых форм.

5. Добавлены тесты:
- `tests/address.test.mjs` для descriptor/payload/formatting логики;
- расширены `tests/normalizers.test.mjs` и `tests/validation.test.mjs`.

6. Обновлены скрипты качества/сборки:
- `scripts/build.mjs` и `scripts/lint.mjs` включают новый модуль и тесты.

7. Обновлен `README.md`:
- добавлены инструкции по генерации и проверке адресов;
- отмечено текущее ограничение (приватный ключ пока не реализован).

## Результат
Приложение теперь умеет генерировать адреса разных типов и проверять адрес через Bitcoin Core RPC, сохраняя единый поток: форма -> валидация -> RPC -> понятный результат.
