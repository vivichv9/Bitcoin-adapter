# Документация изменений от 2026-02-11 (этап 2: формы и валидация)

## Что реализовано
1. Добавлены схемы форм:
- `src/lib/form-schemas.js` содержит схемы `raw_tx`, `op_return`, `pubkey`.
- Для полей описаны обязательность, тип, ограничения длины/диапазона и подсказки.

2. Реализован универсальный валидатор по схеме:
- `src/lib/validation.js` теперь использует схемы и поддерживает проверки:
  - `required`;
  - типы `integer`, `string`, `hex`;
  - ограничения `min/max`, `exactLength`, `evenLength`, `maxBytesUtf8`;
  - custom-правило для формата публичного ключа.

3. Обновлена клиентская логика:
- `src/main.js` читает и нормализует данные формы;
- применяет `validateBySchema` для всех форм;
- выводит понятные сообщения об ошибках.

4. Улучшены подсказки в UI:
- `index.html` дополнен help-текстом для `txid`, `vout`, `amountSats`, `scriptPubKey`, `payloadText`, `pubkey`.
- `styles.css` дополнен стилем `.hint`.

5. Добавлены тесты валидации:
- `tests/validation.test.mjs` покрывает успешные и ошибочные кейсы по схемам.

6. Обновлены скрипты качества/сборки:
- `scripts/lint.mjs` и `scripts/build.mjs` включают новый модуль `form-schemas.js` и новый тест.

## Результат
Валидация стала централизованной и расширяемой: добавление новых форм теперь делается через схему, без дублирования логики проверок.
